<!DOCTYPE html>
<html lang="en">

<head>
    <%- include('../partials/MainHeader.ejs') %>
</head>

<body>
    <div class="container-xxl position-relative bg-white d-flex p-0">
        <!-- Spinner Start -->
        <%- include('../partials/spinner.ejs') %>
            <!-- Spinner End -->


            <!-- Sidebar Start -->
            <%- include('../partials/adminSidebar.ejs')%>
                <!-- Sidebar End -->


                <!-- Content Start -->
                <div class="content">
                    <!-- Navbar Start -->
                    <%- include('../partials/navbar.ejs')%>
                        <!-- Navbar End -->

                        <div class="col-sm-12 col-xl-12 pt-4 px-4">
                            <%- include("../partials/flashMessage.ejs") %>
                        </div>

                        <!-- Blank Start -->
                        <div class="container-fluid pt-4 px-4">

                            <div class="row bg-light rounded justify-content-center m-0 p-2" style="min-height: 70vh;">
                                <div class="row">
                                    <!-- List starts Here     -->
                                    <div class="col-12">
                                        <div class="bg-light rounded h-100 p-0">
                                            <div class="d-flex justify-content-between align-items-center">
                                                <div class="d-flex gap-2 justify-content-center align-items-center">
                                                    <h6 class="my-3 ">
                                                        All BCA Admissions
                                                    </h6>
                                                </div>
                                                <div>
                                                    <input type="text" class="form-control my-3" id="searchSession"
                                                        placeholder="Search by Session">

                                                </div>
                                            </div>

                                            <div class="table-responsive">
                                                <table class="table">
                                                    <thead>
                                                        <tr>
                                                            <th scope="col">S.No.</th>
                                                            <th scope="col">Session</th>
                                                            <th scope="col">View Details</th>
                                                        </tr>
                                                    </thead>
                                                    <tbody>
                                                        <% data.foundPortal.reverse().forEach((portal, index)=> { %>
                                                            <tr>
                                                                <td>
                                                                    <%= index + 1 %>.
                                                                </td>
                                                                <td>
                                                                    <%= portal.courseSession %>
                                                                </td>
                                                                <td>
                                                                    <a href="/admin/bca-<%= portal.courseSession %>"
                                                                        class="px-4 btn btn-success w-md">
                                                                        View
                                                                    </a>
                                                                </td>
                                                            </tr>
                                                            <% }); %>
                                                    </tbody>
                                                </table>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- List ends Here     -->
                                </div>
                            </div>
                        </div>
                        <!-- Blank End -->

                        <!-- Footer Start -->
                        <%- include('../partials/MainFooter.ejs')%>
                            <!-- Footer End -->





                </div>
                <!-- Content End -->



                <!-- Back to Top -->
                <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>
    </div>


    <!-- JavaScript Libraries -->
    <%- include('../partials/MainJSLibrary.ejs')%>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const searchInput = document.getElementById("searchSession");
                const tableRows = document.querySelectorAll("table tbody tr");

                searchInput.addEventListener("keyup", function () {
                    const query = this.value.toLowerCase();

                    tableRows.forEach(row => {
                        const session = row.children[1]?.textContent.toLowerCase(); // 2nd column is Session
                        if (session && session.includes(query)) {
                            row.style.display = "";
                        } else {
                            row.style.display = "none";
                        }
                    });
                });
            });
        </script>

</body>

</html>