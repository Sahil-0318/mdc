<%- include('./partials/header.ejs')%>


    <!-- Sidebar Start -->
    <%- include('./partials/adminSidebar.ejs')%>
        <!-- Sidebar End -->


        <!-- Content Start -->
        <div class="content">
            <!-- Navbar Start -->
            <%- include('./partials/navbar.ejs')%>
                <!-- Navbar End -->

                <div class="col-sm-12 col-xl-12 pt-4 px-4 d-md-flex gap-4 justify-content-between">
                    <div class="bg-light rounded h-100 p-4 mb-2 flex-grow-1">
                        <h6 class="mb-4">Notice</h6>
                        <form action="/notice" method="post">
                            <div class="row mb-3">
                                <label for="noticeTitle" class="col-sm-3 col-md-2 col-form-label">Title :</label>
                                <div class="col-sm-6 col-md-8">
                                    <input type="text" class="form-control" id="noticeTitle" name="noticeTitle"
                                        placeholder="Notice Title" required>
                                </div>
                            </div>
                            <div class="row mb-3">
                                <label for="noticeDetail" class="col-sm-3 col-md-2 col-form-label">Details :</label>
                                <div class="col-sm-6 col-md-8">
                                    <textarea class="form-control" name="noticeDetail" id="noticeDetail"
                                        placeholder="Notice Detail " required></textarea>
                                </div>
                            </div>
                            <button type="submit" class="btn btn-primary">Publish</button>
                        </form>
                    </div>

                </div>

                <!-- Blank Start -->
                <div class="container-fluid pt-4 px-4">
                    <div class="row bg-light rounded justify-content-center m-0 p-2">
                        <section class="section">
                            <div class="row">
                                <!-- List starts Here     -->
                                <div class="col-12">
                                    <div class="bg-light rounded h-100 p-0">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <h6 class="my-3 ">All notices</h6>
                                        </div>
                                        <div class="table-responsive">
                                            <table class="table">
                                                <thead>
                                                    <tr>
                                                        <th scope="col">S.No.</th>
                                                        <th scope="col">Title</th>
                                                        <th scope="col">Details</th>
                                                        <th scope="col">Edit</th>
                                                        <th scope="col">Delete</th>
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <% if (locals.notices) { %>
                                                        <% notices.reverse().forEach((element, index)=> { %>
                                                            <tr>
                                                                <th scope="row">
                                                                    <%= index + 1%>
                                                                </th>
                                                                <td>
                                                                    <%= element.noticeTitle%>
                                                                </td>
                                                                <td>
                                                                    <%= element.noticeDetail%>
                                                                </td>
                                                                <td>
                                                                    <a href="/edit-notice/<%= element._id %>"
                                                                        class="px-4 btn btn-warning w-md">Edit</a>
                                                                </td>
                                                                <td>
                                                                    <a href="/delete-notice/<%= element._id %>"
                                                                        onclick="deleteNotice()"
                                                                        class="deleteBtn btn btn-danger w-md">Delete</a>
                                                                </td>

                                                            </tr>
                                                            <% }); %>
                                                                <% } %>
                                                </tbody>
                                            </table>
                                            <% if (locals.notices) { %>
                                                <% if (locals.notices.length===0) { %>
                                                    <h3>Notice not found ...</h3>

                                                    <% } %>
                                                        <% } %>
                                        </div>
                                    </div>
                                </div>
                                <!-- List ends Here     -->
                            </div>
                        </section>
                    </div>
                </div>
                <!-- Blank End -->

                <!-- Footer Start -->
                <div class="container-fluid pt-4 px-4">
                    <div class="bg-light rounded-top p-4">
                        <div class="row">
                            <div class="col-12 col-sm-6 text-center text-sm-start">
                                &copy; <a href="#">Maltidhari College Naubatpur, Patna</a>, All Right Reserved.
                            </div>
                            <div class="col-12 col-sm-6 text-center text-sm-end">
                                <!-- Designed By <a href="#">Tech & Hub</a> -->
                                </br>
                                <!-- Distributed By <a class="border-bottom" href="#" target="_blank">Tech & Hub</a> -->
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Footer End -->





        </div>
        <!-- Content End -->



        <!-- Back to Top -->
        <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>
        </div>


        <!-- JavaScript Libraries -->
        <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
        <script src="../lib/chart/chart.min.js"></script>
        <script src="../lib/easing/easing.min.js"></script>
        <script src="../lib/waypoints/waypoints.min.js"></script>
        <script src="../lib/owlcarousel/owl.carousel.min.js"></script>
        <script src="../lib/tempusdominus/js/moment.min.js"></script>
        <script src="../lib/tempusdominus/js/moment-timezone.min.js"></script>
        <script src="../lib/tempusdominus/js/tempusdominus-bootstrap-4.min.js"></script>

        <!-- Template Javascript -->
        <script src="../javascripts/main.js"></script>
        <script>
            // const deleteBtn = document.querySelectorAll(".deleteBtn")
            // console.log(deleteBtn);
            // deleteBtn.addEventListener('click', ()=>{
            //     alert("Do you want to delete this notice!")
            // })

            function deleteNotice() {
                alert('Do you want delete this!');
            }

        </script>
        </body>

        </html>